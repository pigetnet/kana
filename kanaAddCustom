#!/bin/bash
pluginName=$3
pluginRepo=$1
pluginType=$2

case "$pluginType" in
        'objects')
        gitcloner $pluginRepo "/opt/piget/kana/www/plugins/objects/$pluginName"
        chmod 700 -R /opt/piget/kana/www/plugins/objects/$pluginName
        chown -R www-data:www-data /opt/piget/kana/www/plugins/objects/$pluginName
        ;;
        'views')
        gitcloner $pluginRepo "/opt/piget/kana/www/plugins/views/$pluginName"
        chmod 700 -R /opt/piget/kana/www/plugins/views/$pluginName
        chown -R www-data:www-data /opt/piget/kana/www/plugins/views/$pluginName
        ;;
        'sensors')
        gitcloner $pluginRepo "/opt/piget/kana/www/plugins/sensors/$pluginName"
        chmod 700 -R /opt/piget/kana/www/plugins/sensors/$pluginName
        chown -R www-data:www-data /opt/piget/kana/www/plugins/sensors/$pluginName
        ;;
        *)
        errorBox "Wrong Plugin type"
        usage 'kanaAdd "pluginRepo" "pluginType" "pluginName"'
        example 'kanaAdd "madnerds/kana-led" "objects" "led"'
        ;;
esac

